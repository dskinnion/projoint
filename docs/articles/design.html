<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Design Your Survey • projoint</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Design Your Survey">
<meta name="description" content="Learn how to set up your conjoint survey in Qualtrics, with or without the Projoint Survey Design Tool.
">
<meta property="og:description" content="Learn how to set up your conjoint survey in Qualtrics, with or without the Projoint Survey Design Tool.
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">projoint</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../faq/index.html">FAQ</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="design_files/font-awesome-6.5.2/js/script.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Design Your Survey</h1>
            
      

      <div class="d-none name"><code>design.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="set-up-your-survey-using-the-projoint-survey-design-tool-recommended">Set Up Your Survey Using the Projoint Survey Design Tool
<a class="anchor" aria-label="anchor" href="#set-up-your-survey-using-the-projoint-survey-design-tool-recommended"></a>
</h2>
<p>Using our <a href="https://projoint.aaronrkaufman.com/" class="external-link">Projoint Survey Design
Tool</a>, you can easily:</p>
<ul>
<li>Set up attributes and levels</li>
<li>Randomize attributes and levels with weights</li>
<li>Add cross-attributes <em>and</em> cross-profile constraints</li>
<li>Automatically create a repeated task for intra-respondent
reliability (IRR) estimation</li>
<li>Generate test responses for checking your design</li>
<li>🚀 <span style="color:DarkOrange"><b>Export your survey directly for
Qualtrics (in QDF format)</b></span> ✅</li>
</ul>
    <h3>How to Use the Projoint Survey Design Tool</h3>
    <p>The following instructions are taken directly from the Projoint Survey Design Tool's <a href="https://projoint.aaronrkaufman.com/tutorials/00_tutorial.md">Tutorial section</a>.</p>
<details style="margin-bottom: -5px">
    <summary>
        1. Setting the Attributes
    </summary>
    <p>The most important part of a discrete choice experiment is setting the attributes and levels: these are the features that are getting randomized. Add attributes by clicking on the "Add Attribute" button, and add levels by clicking on the "Add Level" button.</p>
        <p>There are two advanced options on the page where users add attributes and levels. The first controls the order in which attributes appear to respondents. By clicking on the padlock icon to the right of each attribute, the user can control where they appear. A locked icon will always appear in the indicated position, so if the second attribute is locked, that attribute will always appear second in the list of attributes shown to respondents.</p>
        <p>The second advanced option controls randomization weights, and can be accesed by clicking on the "Edit Weights" button. This allows researchers to set how frequently each level should appear. Most choice experiments set each level to equal frequency, but this is not necessarily preferred.</p>
        <p>After you have set the attributes and levels, we recommend going to the Preview screen to preview your study. This produces a single task, which can be refreshed, so the researcher can see what the respondents will see.</p>
</details>
<details style="margin-bottom: -5px">
    <summary>
        2. Additional Settings
    </summary>
    <ul>
            <li><b>Number of profiles</b>: This defaults to 2, a binary comparison, but can be any positive integer. We recommend no more than 5.</li>
            <li><b>Number of tasks</b>: This is the number of distinct comparison tasks the respondent sees. More tasks produces more data, but also potentially fatigues the respondent.</li>
            <li><b>Repeated task</b>: This toggles whether one of the tasks respondents see is an exact duplicate of a previous task. By comparing the rate at which respondents give the same answer to identical questions, it is possible to measure and correct for a certain type of measurement error in conjoint studies. We strongly recommend turning this on.</li>
            <li><b>Repeated task is shuffled</b>: Option to either flip columns for repeated tasks.</li>
            <li><b>Which task to repeat?</b>: Which of the tasks should be repeated? This can range from 1 to N where N is the number of tasks.</li>
            <li><b>Where to repeat?</b>: Where should the repeated task go? This can range from K where K is the index of the task to be repeated to N+1 where N is the number of tasks.</li>
            <li><b>Ordering of attributes</b>: How should the order of attributes be randomized? The three options are Non random, Participant randomized, and Task randomized. Non-random says that every respondent and every task will have the same attribute order: the one specified by you. Participant-randomized says that each participant sees a different attribute order, but that attribute order is the same for all of that participant's tasks. In other words, each participant sees one ordering of attributes. Task-randomized says that every task has an independently-randomized attribute order. We recommend Participant-randomized as it is less confusing for participants.</li>
    </ul>
</details>  
<details style="margin-bottom: -5px">
    <summary>
        3. Restrictions
    </summary>
        <p>There are two types of restrictions we discuss: cross-attribute restrictions and cross-profile restrictions. Cross-attribute restrictions prevent a profile from being logically inconsistent. For example, in a conjoint study comparing potential immigrants, if an immigrant has only a middle school education, their career cannot be neurosurgeon. Cross-profile restrictions produce dependencies across the different profiles of one task. For example, in a conjoint study comparing political candidates in a two-party, if one candidate is polling at 60%, the other must be polling at 40% or less.</p>
</details>
<details style="margin-bottom: -5px">
    <summary>
        4. Exporting
    </summary>
    <p>There are four options for exporting a survey, and we recommend users do at least three of them:</p>
        <ol>
            <li>Exporting to CSV produces a user-specified number of test data indicating the attributes and levels of a number of random tasks. We recommend using this to double-check that all restrictions and randomization weights were successfully applied, as well as to conduct a power analysis.</li>
            <li>Exporting to JSON produces a file containing all the information the user set defining the survey. We recommend saving this so that you can recreate the survey settings if you clear your cookies. This JSON file can be imported to this web tool, automating this process.</li>
            <li>Exporting to JavaScript (JS) produces a file that can be uploaded to Qualtrics to perform randomization.</li>
            <li>Exporting to Qualtrics produces a .QSF file that can be loaded into Qualtrics, automatically populating a survey with appropriate randomization and the correct question tasks.</li>
        </ol>
</details>

</div>
<hr>
<div class="section level2">
<h2 id="why-designing-conjoint-surveys-was-challenging">Why Designing Conjoint Surveys Was Challenging in the Past<a class="anchor" aria-label="anchor" href="#why-designing-conjoint-surveys-was-challenging"></a>
</h2>
<details><summary>
Conjoint Survey Design Tool (FYI Only)
</summary><div class="section level3">
<h3 id="generate-a-javascript-or-php-randomizer">1. Generate a JavaScript or PHP randomizer<a class="anchor" aria-label="anchor" href="#generate-a-javascript-or-php-randomizer"></a>
</h3>
<p>Many researchers use Anton Strezhnev’s <strong>Conjoint Survey Design
Tool</strong> (Link: <a href="https://github.com/astrezhnev/conjointsdt/" class="external-link">conjointSDT</a>) to
produce a JavaScript or PHP randomizer.</p>
<div class="section level4">
<h4 id="javascript">JavaScript<a class="anchor" aria-label="anchor" href="#javascript"></a>
</h4>
<p>The JavaScript randomizer can be inserted into the first screen of
your Qualtrics survey using <strong>Edit Question JavaScript</strong>.
Example screenshot:</p>
<p><img src="../reference/figures/embedded_js.png" id="id" class="class" style="width:80.0%;height:80.0%"></p>
<ul>
<li>Example JavaScript: <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/example.js" class="external-link">Download
here</a>
</li>
</ul>
<p>The JavaScript runs internally within Qualtrics and generates
<em>embedded fields</em> for each conjoint task.<br>
For example:</p>
<ul>
<li>
<code>"K-1-1-7"</code> = value for the 7th attribute, first profile,
first task</li>
<li>
<code>"K-5-2-5"</code> = value for the 5th attribute, second
profile, fifth task</li>
</ul>
</div>
<div class="section level4">
<h4 id="php">PHP<a class="anchor" aria-label="anchor" href="#php"></a>
</h4>
<p>Alternatively, the PHP randomizer must be hosted externally.</p>
<p>Example hosted on our server:<br><a href="https://www.horiuchi.org/php/ACHR_Modified_2.php" class="external-link uri">https://www.horiuchi.org/php/ACHR_Modified_2.php</a><br>
(PHP file <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/ACHR_Modified_2.php" class="external-link">here</a>)</p>
<p>This method was used in:<br><a href="https://www.nowpublishers.com/article/Details/QJPS-21119" class="external-link">Agadjanian,
Carey, Horiuchi, and Ryan (2023)</a></p>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="modify-your-javascript-or-php-randomizer">2. Modify your JavaScript or PHP randomizer<a class="anchor" aria-label="anchor" href="#modify-your-javascript-or-php-randomizer"></a>
</h3>
<p>You may want to add constraints — for example, <strong>prevent
ties</strong> between profiles.<br>
To do this, you can manually modify your JavaScript or PHP.</p>
<p>In the future, <strong>projoint</strong> will offer easier ways to
add constraints!<br>
Until then, resources like <a href="https://openai.com/gpt-4" class="external-link">OpenAI’s
GPT-4</a> can help you edit scripts.</p>
<p>Example PHP snippet ensuring racial balance between profiles:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode php"><code class="sourceCode php"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="va">$treat_profile_one</span> <span class="op">=</span> <span class="st">"B-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$p</span> <span class="op">.</span> <span class="st">"-1-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$treat_number</span><span class="ot">;</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="va">$treat_profile_two</span> <span class="op">=</span> <span class="st">"B-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$p</span> <span class="op">.</span> <span class="st">"-2-"</span> <span class="op">.</span> <span class="dt">(string)</span><span class="va">$treat_number</span><span class="ot">;</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="va">$cond1</span> <span class="op">=</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_one</span>] <span class="op">==</span> <span class="st">"White"</span> <span class="op">&amp;&amp;</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_two</span>] <span class="op">==</span> <span class="va">$type</span><span class="ot">;</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="va">$cond2</span> <span class="op">=</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_two</span>] <span class="op">==</span> <span class="st">"White"</span> <span class="op">&amp;&amp;</span> <span class="va">$returnarray</span>[<span class="va">$treat_profile_one</span>] <span class="op">==</span> <span class="va">$type</span><span class="ot">;</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="cf">if</span> (<span class="va">$cond1</span> <span class="op">or</span> <span class="va">$cond2</span>) {</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  <span class="va">$complete</span> <span class="op">=</span> <span class="kw">True</span><span class="ot">;</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>}</span></code></pre></div>
<p>If you have good examples of manual constraints, please email <a href="mailto:yusaku.horiuchi@gmail.com">Yusaku Horiuchi</a>!</p>
<hr>
</div>
<div class="section level3">
<h3 id="add-conjoint-tables-with-embedded-fields-in-qualtrics">3. Add conjoint tables with embedded fields in Qualtrics<a class="anchor" aria-label="anchor" href="#add-conjoint-tables-with-embedded-fields-in-qualtrics"></a>
</h3>
<p>After generating the randomizer, you must create <strong>HTML
tables</strong> displaying embedded fields for each task.</p>
<p>Example of the first task:</p>
<p><img src="../reference/figures/screenshot_first.png" id="id" class="class" style="width:80.0%;height:80.0%"></p>
<ul>
<li>Example HTML file: <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/task_first.html" class="external-link">task_first.html</a>
</li>
</ul>
<p>Each conjoint study typically includes <strong>5-10
tasks</strong>.</p>
<p>The embedded fields update across tasks:<br>
e.g., <code>"K-1..."</code> for Task 1, <code>"K-2..."</code> for Task
2, and so on.</p>
<hr>
<div class="section level4">
<h4 id="adding-a-repeated-task-recommended">Adding a repeated task (recommended!)<a class="anchor" aria-label="anchor" href="#adding-a-repeated-task-recommended"></a>
</h4>
<p>It’s easy to create a <strong>repeated task</strong> for
intra-respondent reliability (IRR) estimation:</p>
<ul>
<li>Copy the HTML for Task 1 later into the survey (e.g., after Task
5)</li>
<li>
<strong>Flip</strong> Profile 1 and Profile 2 (swap the embedded
field digits)</li>
</ul>
<p>Example repeated task:</p>
<p><img src="../reference/figures/screenshot_last.png" id="id" class="class" style="width:80.0%;height:80.0%"></p>
<ul>
<li>Example HTML: <a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/task_repeated.html" class="external-link">task_repeated.html</a>
</li>
</ul>
<hr>
</div>
</div>
<div class="section level3">
<h3 id="sample-qualtrics-survey-template">4. Sample Qualtrics survey template<a class="anchor" aria-label="anchor" href="#sample-qualtrics-survey-template"></a>
</h3>
<p>We provide a full <strong>Qualtrics QSF file</strong> ready to
use!</p>
<a href="https://raw.githubusercontent.com/yhoriuchi/projoint/master/data-raw/CHKKK_Mummolo_and_Nall_full_replication_W1_Lucid_-_August_2021.qsf" class="external-link">
<button class="btn btn-danger"><i class="fa fa-save"></i> Download QSF file</button>
</a>
<p>This file recreates a standard conjoint survey setup based on Mummolo
and Nall (2017).</p>

<hr>
</div>
</details>
</div>
<div class="section level2">
<a href="../index.html"><p>🏠 <strong>Home</strong></p></a>
<hr>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yusaku Horiuchi, Aaron Kaufman, Gary King.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
